<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="~{/common/config.html :: config}">
</head>
<title>BOM 상세</title>
<body>
<header th:replace="~{/common/header.html :: header}"></header>

<main class="main">
<section th:replace="~{/common/breadcrumb.html :: breadcrumb}"></section>


<div class="container py-4">
    <h2 class="mb-4">BOM 상세 조회</h2>
    <div class="my-3  d-flex gap-2"> 
        <div class="ms-auto">
            <button type="button"  class="btn btn-success" data-bs-toggle="modal" data-bs-target="#myModal" id="openModalBtn"><i class="bi bi-pencil-square"></i>BOM 수정</button>
            <button class="btn btn-danger"><i class="bi bi-trash"></i> BOM 삭제</button>
        </div>
    </div>
    <div class="row">
        <!-- BOM 트리 -->
        <div class="col-md-5">
            <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    BOM 트리
                </div>
                <div class="card-body tree">
                    <ul id="bomTree">
                        <li >
                            <strong th:text="${top_pd}"></strong>
                            <ul >
                                <li  th:each="item, n : ${bom_detail}" th:data-id="${n.count}" th:text="${item.SEQ_NO + '. ' + item.ITEM_NAME}"></li>
                               
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 부자재 상세보기 -->
        <div class="col-md-7">
            <!-- 박스 1 -->
            <div class="card mb-4">
                <div class="card-header bg-success text-white">
                    부자재 상세보기 1
                </div>
                <div class="card-body bom-detail " id="bomDetail">
                <h5 class="mb-3">부자재 소요 리스트</h5>
				<div class="table-responsive rounded">
                <table class="table table-bordered" style="white-space: nowrap;">
				<thead>
				    <tr class="text-center">
				      <th scope="col" style="width: 5%;">#</th>
				      <th scope="col" style="width: 20%;">제품코드</th>
				      <th scope="col" style="width: 30%;">자재명</th>
				      <th scope="col" style="width: 30%;">제품유형</th>
					  <th scope="col" style="width: 30%;">대분류</th>
					  <th scope="col" style="width: 30%;">소분류</th>
					  <th scope="col" style="width: 30%;">규격</th>
					  <th scope="col" style="width: 30%;">소요량</th>
					  <th scope="col" style="width: 30%;">단위</th>
					  <th scope="col" style="width: 30%;">단가</th>
					  <th scope="col" style="width: 30%;">매입처</th>
					  <th scope="col" style="width: 30%;">비고</th>
				    </tr>
				  </thead>
				  <tbody>
				  <tr th:each="itm, no : ${bom_detail}">
				  	<td th:text="${bom_detail.size - no.index}"></td>
					<td th:text="${itm.C_ITEM_CODE}"></td> 
					<td th:text="${itm.ITEM_NAME}"></td>
					<td th:text="${itm.ITEM_TYPE}"></td>
					<td th:text="${itm.ITEM_CLASS1}"></td>
					<td th:text="${itm.ITEM_CLASS2}"></td>		                    	                    							
					<td th:text="${itm.ITEM_SPEC}"></td>
					<td th:text="${itm.BOM_QTY}"></td>
					<td th:text="${itm.UNIT}"></td>
					<td th:text="${itm.ITEM_COST}"></td>
					<td ></td>
					<td th:text="${itm.MEMO ?: '비고없음'}"></td>
				  </tr>
				</tbody>
                </table>
				</div>
                </div>
            </div>

   
        </div>
    </div>
</div>

</main>

<footer th:replace="~{/common/footer.html :: footer}"></footer>
</body>
</html>