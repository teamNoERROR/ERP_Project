<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="~{/common/config.html :: config}">
</head>
<title>BOM 등록</title>
<body>
	<header th:replace="~{/common/header.html :: header}"></header>

	<main class="main">
		<section th:replace="~{/common/breadcrumb.html :: breadcrumb}"></section>


		<div class="container mt-5">
			<h2 class="mb-4">BOM 등록</h2>
				<div class="row mb-2">
					<div class="col-md-2 mb-2">
						<label for="productName" class="form-label">제품코드</label> 
						<input type="text" class="form-control" id="product_code" th:value="${bom_pd.PRODUCT_CODE}" readonly>
					</div>
					<div class="col-md-2">
						<label for="productName" class="form-label">제품명</label> 
						<input type="text" class="form-control" id="" th:value="${bom_pd.PRODUCT_NAME}" readonly>
					</div>
					<div class="col-md-2">
						<label for="productName" class="form-label">대분류</label> 
						<input type="text" class="form-control" id="" th:value="${bom_pd.PRODUCT_CLASS1}" readonly>
					</div>
					<div class="col-md-2">
						<label for="productName" class="form-label">소분류</label> 
						<input type="text" class="form-control" id="" th:value="${bom_pd.PRODUCT_CLASS2}" readonly>
					</div>
					<div class="col-md-2">
						<label for="productName" class="form-label">제품규격</label> 
						<input type="text" class="form-control" id="" th:value="${bom_pd.PRODUCT_SPEC}" readonly>
					</div>
					<div class="col-md-2">
						<label for="productName" class="form-label">제품단위</label> 
						<input type="text" class="form-control" id="" th:value="${bom_pd.PRODUCT_UNIT}" readonly>
					</div>
				</div>
				<div class="row mb-3">
					<div class="col-md-2">
						<label for="productName" class="form-label">제품단가</label> 
						<input type="text" class="form-control text-end" id="" th:value="|${#numbers.formatInteger(bom_pd.PRODUCT_COST, 0, 'COMMA')}원|" readonly>
					</div>
					<div class="col-md-2 ">
						<label for="productName" class="form-label">판매가</label> 
						<input type="text" class="form-control text-end" id="" th:value="${#numbers.formatInteger(bom_pd.PRODUCT_PRICE,0,'COMMA')+'원'}" readonly>
					</div>
					<div class="col-md-6 " >
						<label for="productName" class="form-label">비고</label> 
						<input type="text" class="form-control"  style="width: 800px;"  id=""  th:value="${bom_pd.MEMO} ?: '비고없음'" readonly>
					</div>
					
					<div class="col-md-2 d-flex align-items-end justify-content-end" th:if="${bom_pd.PRODUCT_CODE != null}">
						<button class="btn btn-primary " type="button" disabled>
						<i class="bi bi-search"></i>
						</button>
					</div>

				</div>
				<h5 class="mt-4">부자재 목록</h5>
				<table class="table table-bordered align-middle">
					<thead class="table-light">
						<tr class="text-center">
							<th style="width: 10%;">자재 코드</th>
							<th style="width: 15%;">자재명</th>
							<th style="width: 10%;">대분류</th>
							<th style="width: 10%;">소분류</th>
							<th style="width: 10%;">규격</th>
							<th style="width: 10%;">단가</th>
							<th style="width: 10%;">구매처</th>
							<th style="width: 10%;">소요수량</th>
							<th style="width: 10%;">단위</th>
							<th style="width: 5%;">삭제</th>
						</tr>
					</thead>
					<tbody id="bom_items">
						<tr class="item_add_row">
							<td>
								<input type="text" class="form-control" placeholder="자재 코드" readonly>
							</td>
							<td>
								<input type="text" class="form-control" placeholder="자재명" readonly>
							</td>
							<td>
								<input type="text" class="form-control" placeholder="대분류" readonly>
							</td>
							<td>
								<input type="text" class="form-control"  placeholder="소분류" readonly>
							</td>
							<td>
								<input type="text" class="form-control"  placeholder="규격" readonly>
							</td>
							<td>
								<input type="text" class="form-control" placeholder="구매가" readonly>
							</td>
							<td>
								<input type="text" class="form-control" placeholder="구매처" readonly>
							</td>
							<td>
								<input type="text" class="form-control" min="1" placeholder="소요수량">
							</td>
							<td>
								<select class="form-select">
									<option>선택</option>
									<option>ea</option>
									<option>g</option>
									<option>ml</option>
								</select>
							</td>
							<td class="text-center">
								<button type="button" class="btn btn-danger btn-sm" onclick="removeRow(this)">삭제</button>
							</td>
						</tr>
					</tbody>
				</table>
				<div class="d-flex flex-column flex-md-row align-items-center  justify-content-between  mb-3">
				<div class="d-flex align-items-center" >
					<button type="button" class="btn btn-secondary " onclick="open_item_list()"  >자재 추가</button>
				</div>
				
				<div class="d-flex justify-content-end">
				<button type="button" class="btn btn-primary" onclick="aa()"><i class="bi bi-plus-lg"></i>저장</button>
					<button type="button" class="btn btn-primary" onclick="bom_save()"><i class="bi bi-plus-lg"></i>저장</button>
					<button type="button" class="btn btn-outline-secondary ms-2" onclick="resetBtn()"><i class="bi bi-x-circle"></i> 초기화</button>
				</div>
				</div>
		</div>
	</main>
	<div id="modalContainer"></div>
</body>
</html>